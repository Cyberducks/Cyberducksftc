<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0055)http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>LEGO Chase Demo - CMUcam5 Pixy - CMUcam: Open Source Programmable Embedded Color Vision Sensors</title>
<meta name="description" content="Redmine">
<meta name="keywords" content="issue,bug,tracker">
<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="GBCpy+7/Amvi/FXnhfy4F/nL1AC04DcD7w/OfkqOgiY=">
<link rel="shortcut icon" href="http://cmucam.org/favicon.ico?1353443604">
<link href="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/application.css" media="all" rel="stylesheet" type="text/css">

<script type="text/javascript" async="" src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/ga.js"></script><script src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/prototype.js" type="text/javascript"></script>
<script src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/effects.js" type="text/javascript"></script>
<script src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/dragdrop.js" type="text/javascript"></script>
<script src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/controls.js" type="text/javascript"></script>
<script src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/application.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1328475261);}
    </style>
<![endif]-->

<!-- page specific tags -->

  <link href="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/scm.css" media="screen" rel="stylesheet" type="text/css">
</head>
<body class="theme-Modula martini controller-wiki action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="http://cmucam.org/login" class="login">Sign in</a></li>
<li><a href="http://cmucam.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="http://cmucam.org/" class="home">Home</a></li>
<li><a href="http://cmucam.org/projects" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="http://cmucam.org/search/index/cmucam5" method="get">
        <input name="wiki_pages" type="hidden" value="1">
        <label for="q">
          <a href="http://cmucam.org/search/index/cmucam5" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text">
        </form>
        
    </div>
    

    <h1>CMUcam5 Pixy</h1>

    
    <div id="main-menu">
        <ul><li><a href="http://cmucam.org/projects/cmucam5" class="overview">Overview</a></li>
<li><a href="http://cmucam.org/projects/cmucam5/activity" class="activity">Activity</a></li>
<li><a href="http://cmucam.org/projects/cmucam5/news" class="news">News</a></li>
<li><a href="http://cmucam.org/projects/cmucam5/documents" class="documents">Documents</a></li>
<li><a href="http://cmucam.org/projects/cmucam5/wiki" class="wiki selected">Wiki</a></li>
<li><a href="http://cmucam.org/projects/cmucam5/boards" class="boards">Forums</a></li>
<li><a href="http://cmucam.org/projects/cmucam5/files" class="files">Files</a></li></ul>
    </div>
    
</div>

<div class="" id="main">
    <div id="sidebar">
        
  
<h3>Wiki</h3>

<a href="http://cmucam.org/projects/cmucam5/wiki">Start page</a><br>
<a href="http://cmucam.org/projects/cmucam5/wiki/index">Index by title</a><br>
<a href="http://cmucam.org/projects/cmucam5/wiki/date_index">Index by date</a><br>


        
    </div>

    <div id="content">
        
        <div class="contextual">


<span class="wiki_page-222-watcher"></span>






<a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo/history" class="icon icon-history">History</a>
</div>





<div class="wiki wiki-page">
  <a name="LEGO-Chase-Demo"></a>
<h1>LEGO Chase Demo<a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#LEGO-Chase-Demo" class="wiki-anchor">¶</a></h1>


	<p>This page describes how to make a LEGO robot that chases things, like a ball.  It's the same robot and program that's used in the <a href="https://www.youtube.com/watch?v=HZ_0qk7Yd7A" class="external">Pixy LEGO video</a>.  This robot and program is a good launching point for other projects, and it's a good introduction to PID control, which is used throughout robotics and engineering in general.</p>


	<a name="Building-the-robot"></a>
<h2><strong>Building the robot</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Building-the-robot" class="wiki-anchor">¶</a></h2>


	<p>The robot we're going to build can be found in Laurens Valk's book <a href="http://robotsquare.com/books/ev3discovery" class="external">LEGO Mindstorms EV3 Discovery Book</a>.  The robot is called the Explor3r and it uses parts that are available in the retail Mindstorms EV3 kit.</p>


	<ol>
	<li>Assemble Explor3r through step 11. <a href="http://robotsquare.com/2015/10/06/explor3r-building-instructions/" class="external">Click here for instructions on how to build Explor3r</a>."  That is, stop short of mounting the IR Sensor (step 12).  Instead of the IR Sensor, we'll be mounting Pixy.  If you are using an NXT brick, your instructions will be very similar.  </li>
		<li>Locate these LEGO parts and your LEGO-mounted Pixy. (There are instructions on how to mount Pixy to LEGO <a href="http://cmucam.org/projects/cmucam5/wiki/Mounting_Pixy_with_LEGO.">here</a>)   <br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/IMG_4994_zpsds83y5lm.jpg" style="width: 40%;" alt=""><br>&nbsp;</li>
		<li><br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/IMG_4996_zps8njal9ea.jpg" style="width: 40%;" alt=""><br>&nbsp;</li>
		<li><br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/IMG_4998_zpsj2rbmhch.jpg" style="width: 40%;" alt=""><br>&nbsp;</li>
		<li><br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/IMG_5000_zps63ambtvg.jpg" style="width: 40%;" alt=""><br>&nbsp;</li>
		<li><br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/IMG_5007_zps5956q7xb.jpg" style="width: 40%;" alt=""><br>&nbsp;</li>
		<li>Attach Pixy as shown.<br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/IMG_5008_zpsvosebvsq.jpg" style="width: 40%;" alt=""><br>&nbsp;</li>
		<li>Connect the Pixy cable. Plug one end of the cable into Pixy and the other end into port 1 of your brick.<br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/chase_ev3_zpsdnasr5hx.jpg" style="width: 40%;" alt=""></li>
	</ol>


	<a name="Cables-IMPORTANT"></a>
<h3><strong>Cables (IMPORTANT!)</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Cables-IMPORTANT" class="wiki-anchor">¶</a></h3>


	<ol>
	<li>The motors connect to motor ports A and B on your brick.  Don't "cross" the cables.  That is, if you are facing the motor ports (the back of the robot), the left motor connects to port B, the right motor connects to port A. </li>
		<li>Pixy connects to sensor port 1.  <br>&nbsp;</li>
	</ol>


	<a name="Teach-Pixy-an-object"></a>
<h2><strong>Teach Pixy an object</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Teach-Pixy-an-object" class="wiki-anchor">¶</a></h2>


	<p>Go ahead and <a href="http://cmucam.org/projects/cmucam5/wiki/Teach_Pixy_an_object_2" class="wiki-page">teach Pixy an object</a>.  You might try using the button press method.  Using the button press method doesn't require that you hook up a USB cable to Pixy and run PixyMon, so it's much more convenient!</p>


	<a name="Load-Chase-example"></a>
<h2><strong>Load Chase example</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Load-Chase-example" class="wiki-anchor">¶</a></h2>


	<ol>
	<li>Turn on your LEGO brick if you haven't done so, and hook up a USB cable between your computer and your LEGO brick.</li>
		<li>From the LEGO Mindstorms EV3 Software, go to the <strong>File</strong> menu and select <strong>Open Project</strong>.  <br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 036_zpsxk0kqscq.png" alt=""><br>&nbsp;</li>
		<li>Browse to the location where you unzipped the "LEGO blocks and examples" file (which you can download <a href="http://cmucam.org/projects/cmucam5/wiki/Latest_release.">on this page</a>), and then to the <strong>examples</strong> directory and then either to the <strong>EV3</strong> or <strong>NXT</strong> directory depending on your brick version. Select "chase.ev3" and click on <strong>Open</strong>.</li>
		<li>Click on the "track" tab.  You should see a program that looks like this (below). <br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 042_zps3bvq1ehm.png" style="width: 60%;" alt=""><br>&nbsp;</li>
		<li>Run the program!  Click on the play icon in the lower right corner of your EV3 software window.  If you don't see the play icon, make sure your LEGO brick is powered on, finished booting, and connected to you computer via a USB cable.   <br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 038_zpscvm5bgys.png" alt=""><br>&nbsp;. </li>
		<li>If you are running PixyMon, make sure you are running the "Default program" by clicking on the home icon.<br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 039_zpssap8j5yb.png" alt=""><br>&nbsp;</li>
		<li>Move the object that you taught Pixy in front its camera lens.  The track program simply adjusts the angle of the robot so that it always faces your object.  It doesn't chase your object, it just "faces" your object, but it's quick!<br>&nbsp;</li>
	</ol>


	<a name="Whats-going-on-in-the-track-program"></a>
<h2><strong>What's going on in the track program?</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Whats-going-on-in-the-track-program" class="wiki-anchor">¶</a></h2>


	<p>The track program uses <strong>X centroid</strong> output of the <a href="http://cmucam.org/projects/cmucam5/wiki/Pixy_LEGO_Block">Pixy block</a><br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 045_zps7tmkn9xf.png" alt=""><br>to adjust the heading of the robot by using a <a href="http://cmucam.org/projects/cmucam5/wiki/PID_LEGO_Block">PID controller</a>.<br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 046_zpsughyvxkm.png" alt=""><br>That is, the <strong>X centroid</strong> output of the Pixy block ranges between 0 and 255, depending on where the detected object is in Pixy's image.  The "center pixel" is therefore 128.  The PID controller tries to move the motors such that the detected object is always centered in the image.  It does this by comparing the <strong>X centroid</strong> value to 128 (the PID controller's <strong>Set Point</strong> input).</p>


	<p>The <strong>Control Output</strong> of the PID controller is fed directly into the left wheel controller (the <strong>Power Left</strong> input of the Move Tank controller block).  The <strong>Power Right</strong> input is fed the inverted output of the PID controller by subtracting the PID controller's output from 0.  Why are the wheels controlled in opposite directions?  We are interested in controlling only the rotation of the robot, and rotating the robot is achieved by powering the motors in opposite directions at the same power/speed.  It is in this way that the robot "tracks" the object and always faces it.  The program is surprisingly simple!</p>


	<p>There is some additional logic in the program to make sure that if there are no detected objects, the robot doesn't move.  This is done by comparing the <strong>Signature Output</strong> of the Pixy block with 0. If the <strong>Signature Output</strong> is zero, Pixy has not detected an object.  If the <strong>Signature Output</strong> is non-zero, Pixy has detected an object.  The Switch block selects between these two possibilities, and feeds the PID controller output into the motors when an object is detected, and feeds 0 into the motors when no objects are detected.</p>


	<a name="Some-notes-on-adjusting-the-PID-gains"></a>
<h2><strong>Some notes on adjusting the PID gains</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Some-notes-on-adjusting-the-PID-gains" class="wiki-anchor">¶</a></h2>


	<p>The appeal of the PID controller is it's flexibility.  By adjusting the three gain values, one for proportional, one for integral, and one for derivative, lots of different systems can be controlled.  So what's up with the PID values?  How were they chosen?<br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 047_zpswvqehp3l.png" alt=""></p>


	<p>These were "tuned" by experimentation.  You can tune the PID loop yourself. In fact, it's a good way to familiarize yourself with PID control.</p>


	<p>Go ahead and set all of the PID gains to 0.  That is, click on <strong>Proportional</strong> input of the PID block and set the value to 0.  Do the same for the <strong>Integral</strong> and <strong>Derivative</strong> inputs.  Now all of the PID gains are 0.  You can try to run the program now.  And if you guessed that your robot won't move, you're correct!</p>


	<p>The proportional gain "does most of the work" as they say, so tuning should begin by adjusting this value.  Start with a small value of 0.1 and run the program.  Notice how the robot is now very slow and sluggish.  That is, when trying to track the object (which you're moving around) the robot seems to be trying, but it's heart doesn't seem to be into it.  This is telling you that your proportional gain is too small.</p>


	<p>Try settnig the proportional gain to 1.0 and run the program.  You might notice that the robot does a shimmy after it faces your object.  In other words you move the object quickly, and the robot responds by turning to face the object, and instead of stopping when it faces your object, it keeps on going.  It overshoots.  In fact, it may overshoot several times before coming to a rest, finally facing your object like it was programmed to do.  This is oscillation, and it's a very common problem.</p>


	<p>To reduce the oscillation, you need to increase the derivative gain.  Increasing the derivative gain is like adding friction to your system, which may sound like something you should avoid. However, increasing the derivative gain does not adversely affect the efficiency of your system as friction does.  Start by setting the derivative gain to the same value as the proportional gain.  And continue to increase the derivative gain until the oscillation is under control.</p>


	<p>However, if increasing the derivative gain does not remove the oscillation, the proportional gain may be too high. Try reducing the proportional gain (cutting it in half, say), then setting the derivative gain to zero again, and starting over by increasing the derivative gain until the oscillation is removed.</p>


	<p>If you're successful in removing the oscillation, you might try your luck by increasing the proportional gain again (not as high as before) and seeing if you can still bring the oscillation under control with derivative gain.  And if you're unsuccessful in removing the oscillation, you can always reduce the proportional gain and try different derivative gains as before.</p>


	<p>Our goal is to have our robot that tracks the object quickly, but without oscillation.  This is usually the goal, but you may want a robot that oscillates or is sluggish.  It's all up to you!</p>


	<p>What about the integral gain?  Integral gain is useful when the system has trouble reaching the goal.  Say if our robot tended to get close to facing our object and then stopped, we could try adding a little integral gain.  The integral gain would then make sure that the robot would face the object, eventually.  The integral gain is zero in this example because the the LEGO motors have their own built-in control loops that make sure that we always reach our goal.</p>


	<a name="Chasing-the-object"></a>
<h2><strong>Chasing the object</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Chasing-the-object" class="wiki-anchor">¶</a></h2>


	<p>Click on the "chase" tab.  You should see a program that looks like this (below).<br><img src="./LEGO Chase Demo - CMUcam5 Pixy - CMUcam_ Open Source Programmable Embedded Color Vision Sensors_files/Image 048_zps3bi46ssc.png" style="width: 60%;" alt=""></p>


	<p>Notice that it's very similar to the track program. In fact, the track program is mostly intact in the top half of the chase program, but there's an additional PID controller in the bottom half of the program.  This PID controller adds the "chase" element.</p>


	<p>To run the chase program:</p>


	<ol>
	<li>Make sure you have a fair amount of space for your robot to move around in.</li>
		<li>Make sure Pixy can reliably detect/track your object. (Look at Pixy's LED.  Does it glow when the object is present?)  </li>
		<li>Tilt Pixy's lens down such that it is looking slightly down at the ground, like in the final assembled picture above.</li>
		<li>Place the object that you taught Pixy on the ground in front of the robot, but such that Pixy can still see it.  (A ball is perfect for this.)  </li>
		<li>Now run the program by clicking on the play icon in the lower right corner of your EV3 software window.</li>
	</ol>


	<p>You should notice that the robot chases the object.  Or more specifically, it will maintain a certain distance from the object.  If the object is farther away, the robot will approach (chase) the object.  If the object is too close, the robot will back up until the correct distance to the object is reestablished.  The program is more complicated than the track program, but not by much!</p>


	<a name="Whats-going-on-in-the-chase-program"></a>
<h2><strong>What's going on in the chase program?</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Whats-going-on-in-the-chase-program" class="wiki-anchor">¶</a></h2>


	<p>If you read and understood the section on how the track program works, much of the chase program should make sense.  The main difference is the extra PID controller.  The new controller takes the <strong>Y Centroid</strong> output of the Pixy block and compares it to 150.  Why 150?  The <strong>Y Centroid</strong> output varies between 0 and 199 depending on the position of the detected object in the image.  If the object is higher in the image, the <strong>Y Centroid</strong> value is lower, and if the object is lower in the image, the <strong>Y Centroid</strong> value is higher.  It's backwards in a sense, but many cameras follow this same scheme.</p>


	<p>Now consider that Pixy is angled slightly such that it is looking downward.  This allows your robot to use a simple distance-measuring technique.  Assuming the object of interest is resting on the ground, if the object is higher in the image, it is farther away from Pixy. If the object is lower in the image, it is closer to Pixy.  In fact, you can estimate the actual distance by performing a simple calculation:  distance = constant * 1/(1 + Y Centroid).  You just need to figure out the value of the constant by doing some simple calibration with a known distance.  Anyway, by choosing the value of 150, we are choosing the lower part of the image, or when the object is relatively close.  You can change this value if you like.  In particular, if you lower the value (to 100, for example), the robot will stop when it is farther away.  If you raise the value (no greater than 199 though!), the robot will stop when it is closer.</p>


	<p>How is the output of the new PID controller used to control the motors?  The track program was already controlling the motors such that it controlled the rotation of the robot.  The new PID controller must somehow control the translation (forward/backward) motion of the robot while not interfering with the rotation motion.  It does this by using a simple set of equations.</p>


<pre>rotation = left_motor - right_motor
translation = left_motor + right_motor
</pre>

	<p>If you've ever driven a tank, these equations probably make sense.  But we're interested in the "inverted" equations.  We want expressions for the left_wheel and the right_wheel in terms of rotation and translation.  That is, we already know how we want our robot to rotate and translate -- these are the outputs of our PID controllers.  So rotation and translation are our <strong>knowns</strong>.  Our <strong>unknowns</strong> are left_wheel and right_wheel.   Using some algebra, we get the inverted equations.</p>


<pre>right_motor = (translation - rotation)/2
left_motor = (rotation + translation)/2
</pre> 

	<p>If you look at the program, these equations are implemented in the math blocks that feed into the Move Tank block.  The divide-by-two's are missing, but since these are just multiplicative constants (ie multiply by one-half), they end up being taken up in the PID gain values when the gain values are chosen (tuned).  (How convenient!)</p>


	<a name="Some-notes-on-the-PID-block"></a>
<h2><strong>Some notes on the PID block</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Some-notes-on-the-PID-block" class="wiki-anchor">¶</a></h2>


	<p>By putting the PID controller in a block, we make things simpler.  It's now very easy to make programs with PID control loops.  In fact, you can use the PID block for other programs that don't use Pixy.  Use the PID block to control your robot's distance to the wall for a wall-following robot.  That is, use the IR sensor (in proximity mode) as an input to the PID controller.  And feed the output of the PID controller into the steering control of your robot.</p>


	<p>But by making the PID controller a block, we hide the implementation details.  These details are simple though, and can be summarized with a few simple expressions.</p>


<pre>error = Value_In - Set_Point
d_error = error - previous_error                                             // Simple derivative of error
i_error = i_error + error                                                    // Simple integral of error
previous_error = error                                                       // Remember the error from the previous control cycle
Control_Output = Proportional*error + Integral*i_error + Derivative*d_error  // This is "belly of the beast".  Not much of a beast though... :)
</pre> 

	<p>Using these expressions as a guide, you can try creating your own PID block in the LEGO EV3 programming environment.</p>


	<a name="Where-to-go-from-here"></a>
<h2><strong>Where to go from here</strong><a href="http://cmucam.org/projects/cmucam5/wiki/LEGO_Chase_Demo#Where-to-go-from-here" class="wiki-anchor">¶</a></h2>


	<p>You've created a robot that can chase things.  Using the same concepts you can create a robot that goes over to an object and picks it up.  Or you can create a robot that launches projectiles at things.  Or you can create a robot that goes over to its charger and plugs itself in.  Or you can create the worlds first (as far as we know) soccer-playing LEGO robot.  The programs to create these robots are more complicated, but armed with these concepts, much of the added complexity is in the interleaving of these concepts.</p>


	<p>So think about what you want your robot to do, then do it!  (And by all means tell us about it! <a class="email" href="mailto:support@charmedlabs.com">support@charmedlabs.com</a>)</p>
</div>














        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> © 2006-2011 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2903977-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


</body></html>